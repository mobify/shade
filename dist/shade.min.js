/*! shade 1.1.0 (https://github.com/mobify/shade.git) */
(function(i){if("function"==typeof define&&define.amd)define(["$","plugin","velocity"],i);else{var o=window.Zepto||window.jQuery;i(o,window.Plugin,o.Velocity)}})(function(i,o,t){function s(i,o){s.__super__.call(this,i,o,s.DEFAULTS)}return s.VERSION="1.1.0",s.DEFAULTS={cover:document.body,enableTouchmove:!1,color:"black",opacity:"0.25",duration:150,easing:"swing",padding:0,zIndex:1,click:function(){this.close()},open:i.noop,opened:i.noop,close:i.noop,closed:i.noop},o.create("shade",s,{_init:function(o){var t=this;this.$element=i(o),this.isBody=i(this.options.cover).is("body"),this.$shade=i("<div />").addClass("shade").css({background:this.options.color?this.options.color:"",opacity:0}).hide().on("click",function(){t.options.click&&t.options.click.call(t)}).insertAfter(this.$element),i(window).on("resize:shade",function(){t.$shade.hasClass("shade--is-open")&&t.setPosition.call(t)})},open:function(){var i=this,o=this.options.enableTouchmove;this._trigger("open"),this.setPosition(),t.animate(this.$shade,{opacity:this.options.opacity},{display:"block",duration:this.options.duration,easing:this.options.easing,complete:function(){i.$shade.addClass("shade--is-open").on("touchmove",function(){return o}),i._trigger("opened")}})},close:function(){var i=this;this._trigger("close"),t.animate(this.$shade,"reverse",{display:"none",duration:this.options.duration,easing:this.options.easing,complete:function(){i.$shade.removeClass("shade--is-open").off("touchmove"),i._trigger("closed")}})},setPosition:function(){var i=this.$element,o=this.isBody?"auto":i.width(),t=this.isBody?"auto":i.height(),s=this.isBody?"fixed":"absolute";this.$shade.css({left:this.options.padding?-this.options.padding:0,top:this.options.padding?-this.options.padding:0,bottom:this.options.padding?-this.options.padding:0,right:this.options.padding?-this.options.padding:0,width:this.options.padding?o-this.options.padding:o,height:this.options.padding?t-this.options.padding:t,position:s,padding:this.options.padding,zIndex:this.options.zIndex||i.css("zIndex")+1})}}),i});