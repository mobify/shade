/*! shade 1.2.0 (https://github.com/mobify/shade.git) */
(function(i){if("function"==typeof define&&define.amd)define(["$","plugin","velocity"],i);else{var s=window.Zepto||window.jQuery;i(s,window.Plugin,s.Velocity)}})(function(i,s,o){function t(i,s){t.__super__.call(this,i,s,t.DEFAULTS)}var n={SHADE:"shade",OPENED:"shade--is-open"},e={resize:"resize.shade",click:"click.shade"};return t.VERSION="1.2.0",t.DEFAULTS={cover:document.body,color:"black",opacity:"0.25",duration:150,easing:"swing",padding:0,zIndex:1,cssClass:"",click:function(){this.close()},open:i.noop,opened:i.noop,close:i.noop,closed:i.noop},s.create("shade",t,{_init:function(s){var o=this;this.$element=i(s),this.isBody=i(this.options.cover).is("body"),this.$shade=i("<div />").addClass(n.SHADE).addClass(this.options.cssClass).css({background:this.options.color?this.options.color:"",opacity:0}).hide().on(e.click,function(){o.options.click&&o.options.click.call(o)}).insertAfter(this.$element),this._resize=function(){o.$shade.hasClass(n.OPENED)&&o.setPosition.call(o)},i(window).on(e.resize,this._resize)},destroy:function(){i(window).off(e.resize,this._resize),this.$shade.remove()},open:function(){var i=this;this._trigger("open"),this.setPosition(),o.animate(this.$shade,{opacity:this.options.opacity},{display:"block",duration:this.options.duration,easing:this.options.easing,complete:function(){i.$shade.addClass("shade--is-open").on("touchmove",function(){return!1}),i._trigger("opened")}})},close:function(){var i=this;this._trigger("close"),o.animate(this.$shade,"reverse",{display:"none",duration:this.options.duration,easing:this.options.easing,complete:function(){i.$shade.removeClass("shade--is-open").off("touchmove"),i._trigger("closed")}})},setPosition:function(){var i=this.$element,s=this.isBody?"auto":i.width(),o=this.isBody?"auto":i.height(),t=this.isBody?"fixed":"absolute";this.$shade.css({left:this.options.padding?-this.options.padding:0,top:this.options.padding?-this.options.padding:0,bottom:this.options.padding?-this.options.padding:0,right:this.options.padding?-this.options.padding:0,width:this.options.padding?s-this.options.padding:s,height:this.options.padding?o-this.options.padding:o,position:t,padding:this.options.padding,zIndex:this.options.zIndex||i.css("zIndex")+1})}}),i});